#
# Lab 1 + Lab 2 stack – local development defaults
# Copy this file to `.env` (gitignored) and adjust for your environment.
# SECURITY: Generate your own secrets before running in shared environments.
#

# ---------------------------------------------------------------------------
# Core security / auth
# ---------------------------------------------------------------------------
JWT_SECRET=dev-jwt-secret-key-minimum-32-chars-required
SESSION_SECRET=dev-session-secret-key-minimum-32-chars-required
SESSION_NAME=voyage.sid
SESSION_MAX_AGE=604800000
SESSION_COOKIE_SAME_SITE=lax
SESSION_COOKIE_SECURE=false
BOOKING_SERVICE_API_KEY=dev-booking-api-key-min-16-chars

# ---------------------------------------------------------------------------
# MongoDB (all Node/Express services + Agent service)
# ---------------------------------------------------------------------------
MONGODB_URI=mongodb://localhost:27017/airbnb
MONGODB_SESSION_URI=mongodb://localhost:27017/airbnb_sessions
MONGODB_POOL_SIZE=25
MONGO_TRANSACTIONS_DISABLED=true

# ---------------------------------------------------------------------------
# Kafka
# ---------------------------------------------------------------------------
KAFKA_ENABLED=true
KAFKA_BROKER=localhost:9092
KAFKA_CLIENT_ID=voyage-dev
KAFKA_GROUP_ID=voyage-dev-group

# ---------------------------------------------------------------------------
# Service-to-service URLs
# ---------------------------------------------------------------------------
TRAVELER_SERVICE_URL=http://localhost:3001
OWNER_SERVICE_URL=http://localhost:3002
PROPERTY_SERVICE_URL=http://localhost:3003
BOOKING_SERVICE_URL=http://localhost:3004
AGENT_SERVICE_URL=http://localhost:8000

# ---------------------------------------------------------------------------
# HTTP
# ---------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:5173
PORT=3001
NODE_ENV=development

# ---------------------------------------------------------------------------
# Redis cache (property-service search caching)
# ---------------------------------------------------------------------------
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
CACHE_TTL=300

# ---------------------------------------------------------------------------
# Agent service / LLM integrations
# ---------------------------------------------------------------------------
TAVILY_API_KEY=enter-your-tavily-key
OLLAMA_BASE_URL=http://localhost:11434
AGENT_MODEL=qwen2.5-coder:1.5b-base
USE_OLLAMA=true
# Optional: point Compose to your existing Ollama models directory
OLLAMA_MODELS_DIR=/home/jey/.ollama

# ---------------------------------------------------------------------------
# Legacy Lab 1 components (placeholder – wire up when reintroducing MySQL)
# ---------------------------------------------------------------------------
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=change-me
MYSQL_DATABASE=airbnb_lab1

